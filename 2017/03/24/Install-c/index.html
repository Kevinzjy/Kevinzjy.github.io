<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>在服务器上安装GCC | Kevinzjy&#39;s Blog</title>
  <meta name="author" content="Jinyang Zhang">

  
  <meta name="description" content="生信狗的个人小站">
  
  

  <link rel="alternate" href="/atom.xml" title="Kevinzjy&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><nav>
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/tags">Tags</a></li>
    
  </ul>
</nav></header>
  <div id="content" class="inner"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <header>
    
  
    <h1 class="title">在服务器上安装GCC</h1>
  

    <time datetime="2017-03-24T13:46:27.000Z">
  <span class="day">24</span><span class="month">Mar</span>
</time>
  </header>
  <div class="entry-content">
    
      <h2 id="下载gcc-6-3-0"><a href="#下载gcc-6-3-0" class="headerlink" title="下载gcc-6.3.0"></a>下载gcc-6.3.0</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /panfs/home/zhao/zhangjy/software/src/gcc_src/</div><div class="line">wget http://ftp.tsukuba.wide.ad.jp/software/gcc/releases/gcc-6.3.0/gcc-6.3.0.tar.gz</div><div class="line">tar zxvf gcc-6.3.0.tar.gz</div><div class="line"><span class="built_in">cd</span> gcc-6.3.0</div></pre></td></tr></table></figure>
<h2 id="安装依赖的gmp-mpc等工具"><a href="#安装依赖的gmp-mpc等工具" class="headerlink" title="安装依赖的gmp, mpc等工具"></a>安装依赖的gmp, mpc等工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./contrib/download_prerequisites</div></pre></td></tr></table></figure>
<h2 id="在新的目录下编译"><a href="#在新的目录下编译" class="headerlink" title="在新的目录下编译"></a>在新的目录下编译</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir -p /panfs/home/zhao/zhangjy/software/src/gcc_build</div><div class="line"><span class="built_in">cd</span> /panfs/home/zhao/zhangjy/software/src/gcc_build</div><div class="line">/panfs/home/zhao/zhangjy/software/src/gcc_src/gcc-6.3.0/configure --prefix=/panfs/home/zhao/zhangjy/software/gcc --disable-multilib</div></pre></td></tr></table></figure>
<h2 id="配置环境变量，去掉在-LD-LIBRARY-PATH和-LIBRARY-PATH变量中最后的’-’"><a href="#配置环境变量，去掉在-LD-LIBRARY-PATH和-LIBRARY-PATH变量中最后的’-’" class="headerlink" title="配置环境变量，去掉在$LD_LIBRARY_PATH和$LIBRARY_PATH变量中最后的’:’"></a>配置环境变量，去掉在$LD_LIBRARY_PATH和$LIBRARY_PATH变量中最后的’:’</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> <span class="variable">$LD_LIBRARY_PATH</span>=/panfs/home/zhao/zhangjy/software/R/include:/panfs/home/zhao/zhangjy/software/R/lib:/public/software/mpi/openmpi-16-intel/lib:/public/software/intel/composer_xe_2011_sp1.7.256/compiler/lib/intel64:/public/software/intel/composer_xe_2011_sp1.7.256/mkl/lib/intel64:/opt/gridview//pbs/dispatcher/lib::/usr/<span class="built_in">local</span>/lib64:/usr/<span class="built_in">local</span>/lib</div><div class="line"><span class="built_in">export</span> <span class="variable">$LIBRARY_PATH</span>=/public/software/intel/composer_xe_2011_sp1.7.256/compiler/lib/intel64:/public/software/intel/composer_xe_2011_sp1.7.256/mkl/lib/intel64</div></pre></td></tr></table></figure>
<h2 id="安装GCC"><a href="#安装GCC" class="headerlink" title="安装GCC"></a>安装GCC</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">make -j 10 <span class="comment"># make in 10 threads</span></div><div class="line">make install</div></pre></td></tr></table></figure>
<h2 id="添加新安装的GCC到环境变量"><a href="#添加新安装的GCC到环境变量" class="headerlink" title="添加新安装的GCC到环境变量"></a>添加新安装的GCC到环境变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> PATH=/panfs/home/zhao/zhangjy/software/gcc/bin:<span class="variable">$PATH</span></div><div class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/panfs/home/zhao/zhangjy/software/gcc/lib/gcc/x86_64-pc-linux-gnu/6.3.0:/panfs/home/zhao/zhangjy/software/gcc/lib64:<span class="variable">$LD_LIBRARY_PATH</span></div></pre></td></tr></table></figure>
<h2 id="当安装其他软件时，指定调用新版的GCC"><a href="#当安装其他软件时，指定调用新版的GCC" class="headerlink" title="当安装其他软件时，指定调用新版的GCC"></a>当安装其他软件时，指定调用新版的GCC</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> CC=/panfs/home/zhao/zhangjy/software/gcc/bin/gcc</div><div class="line"><span class="built_in">export</span> CXX=/panfs/home/zhao/zhangjy/software/gcc/bin/g++</div><div class="line">cmake <span class="variable">$YOUR_PATH</span></div></pre></td></tr></table></figure>

    
    
    <footer class="meta">
      
      
  <div class="tags">
<a href="/tags/Linux/">Linux</a></div>

      
    </footer>
    
  </div>
  
</article></div>
  <footer id="footer" class="inner"><div class="social alignright">
  
  
  
  
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
</div>
<p>
  
  &copy; 2017 Jinyang Zhang
  
</p>
<span id="busuanzi_container_site_uv">
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
<div class="clearfix"></div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id="phasebeam">
  <canvas></canvas>
  <canvas></canvas>
  <canvas></canvas>
</div>
<script src="/js/phasebeam.js"></script>
</body>
</html>

<a href="https://github.com/Kevinzjy"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>